<template>
  <section class="bg-gray-50  px-12">
    <div class="max-w-7xl mx-auto">
      <!-- Section Header -->
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">
          Our <span class="text-rose-700">Impact</span> & <span class="text-rose-700">Community</span>
        </h2>
        <p class="text-gray-600 max-w-2xl mx-auto">
          Through dedication and community support, A Million Of Us Foundation continues to transform lives across communities.
        </p>
      </div>

      <!-- Main Content Grid -->
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        
        <!-- Stats Section (Left on large screens) -->
        <div class="order-2 lg:order-1">
          <h3 class="text-2xl font-semibold text-gray-800 mb-8">Our Achievements</h3>
          <div class="grid grid-cols-2 gap-6">
            
            <!-- Stat 1 -->
            <div class="bg-white rounded-lg p-6 shadow-lg hover:shadow-xl transition-shadow duration-300">
              <div class="flex flex-col items-center text-center">
                <div class="bg-rose-200 rounded-full p-3 mb-4">
                  <svg class="w-8 h-8 text-rose-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                  </svg>
                </div>
                <div class="text-3xl font-bold text-rose-700 mb-2" data-count="200">200+</div>
                <div class="text-gray-600 text-sm font-medium">Students Supported</div>
              </div>
            </div>

            <!-- Stat 2 -->
            <div class="bg-white rounded-lg p-6 shadow-lg hover:shadow-xl transition-shadow duration-300">
              <div class="flex flex-col items-center text-center">
                <div class="bg-rose-200 rounded-full p-3 mb-4">
                  <svg class="w-8 h-8 text-rose-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                  </svg>
                </div>
                <div class="text-3xl font-bold text-rose-700 mb-2" data-count="20">20+</div>
                <div class="text-gray-600 text-sm font-medium">Schools Partnered</div>
              </div>
            </div>

            <!-- Stat 3 -->
            <div class="bg-white rounded-lg p-6 shadow-lg hover:shadow-xl transition-shadow duration-300">
              <div class="flex flex-col items-center text-center">
                <div class="bg-rose-200 rounded-full p-3 mb-4">
                  <svg class="w-8 h-8 text-rose-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path>
                  </svg>
                </div>
                <div class="text-3xl font-bold text-rose-700 mb-2" data-count="8">8+</div>
                <div class="text-gray-600 text-sm font-medium">Years of Service</div>
              </div>
            </div>

          </div>
        </div>

        <!-- Testimonials Section (Right on large screens) -->
        <div class="order-1 lg:order-2">
          <div class="bg-white rounded-xl p-8 shadow-xl">
            <div class="flex items-center mb-6">
              <div class="text-[#1E67A8] mr-3">
                <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-10zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h4v10h-10z"/>
                </svg>
              </div>
              <h3 class="text-2xl font-semibold text-gray-800">Community Voice</h3>
            </div>
            
            <!-- Testimonial Content -->
            <div class="space-y-6">
              <blockquote class="text-lg text-gray-700 leading-relaxed italic">
                "I want to thank AMU (A Million of Us) Foundation for paying my child's school fees. This support has been life-changing for our family. My daughter can now continue her education without worry, and I am filled with gratitude for the foundation's commitment to supporting children's education in our community."
              </blockquote>
              
              <!-- Author Info -->
              <div class="flex items-center pt-4 border-t border-gray-200">
                <div class="bg-gradient-to-r from-blue-500 to-[#1E67A8] rounded-full w-12 h-12 flex items-center justify-center text-white font-semibold text-lg mr-4">
                  A
                </div>
                <div>
                  <div class="font-semibold text-gray-800">Anonymous Parent</div>
                  <div class="text-gray-600 text-sm">AMU Foundation Beneficiary</div>
                </div>
              </div>
            </div>

            <!-- Navigation dots for multiple testimonials -->
            <div class="flex justify-center mt-8 space-x-2">
              <button class="w-3 h-3 rounded-full bg-[#1E67A8]"></button>
              <button class="w-3 h-3 rounded-full bg-gray-300 hover:bg-gray-400"></button>
              <button class="w-3 h-3 rounded-full bg-gray-300 hover:bg-gray-400"></button>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>
</template>

<script setup>
import { onMounted, ref } from 'vue'

// Animation for counting numbers
const animateNumbers = () => {
  const counters = document.querySelectorAll('[data-count]')
  
  const animateValue = (element, start, end, duration) => {
    let startTimestamp = null
    const step = (timestamp) => {
      if (!startTimestamp) startTimestamp = timestamp
      const progress = Math.min((timestamp - startTimestamp) / duration, 1)
      const value = Math.floor(progress * (end - start) + start)
      
      if (end >= 1000) {
        element.textContent = (value / 1000).toFixed(1) + 'K+'
      } else {
        element.textContent = value + '+'
      }
      
      if (progress < 1) {
        window.requestAnimationFrame(step)
      }
    }
    window.requestAnimationFrame(step)
  }
  
  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        const target = entry.target
        const finalValue = parseInt(target.getAttribute('data-count'))
        animateValue(target, 0, finalValue, 2000)
        observer.unobserve(target)
      }
    })
  })
  
  counters.forEach((counter) => {
    observer.observe(counter)
  })
}

onMounted(() => {
  animateNumbers()
})
</script>

<style scoped>
/* Custom animations */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fadeInUp 0.6s ease-out;
}

/* Hover effects for stats cards */
.bg-white:hover {
  transform: translateY(-2px);
  transition: transform 0.3s ease;
}
</style>